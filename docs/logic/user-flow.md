# ユーザー登録・認証処理フロー・業務ロジック詳細

## 概要
ユーザーの新規登録・ログイン・ログアウト・情報編集の処理フローと業務ロジックを記載します。

---

## 1. 新規登録
- 管理者が `POST /api/users` でユーザー作成
- ユーザー名・パスワード・権限等を入力
- パスワードはハッシュ化して保存
- user_name, emailは一意制約

## 2. ログイン
- クライアントは `POST /api/login` を呼び出し
- ユーザー名・パスワードを検証
- セッション/Cookie発行
- ログイン失敗時はエラー返却

## 3. ログアウト
- クライアントは `POST /api/logout` を呼び出し
- セッション/Cookieを無効化

## 4. 情報編集
- クライアントは `PATCH /api/users/:id` を呼び出し
- 権限・内容チェック
- DB更新

## 業務ルール
- パスワードは管理者も閲覧不可
- 認証失敗はレート制限
- 削除は論理削除
