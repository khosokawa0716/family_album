# コメント投稿・編集・削除処理フロー・業務ロジック詳細

## 概要
コメントの投稿・編集・削除に関する処理フローと業務ロジックを記載します。

---

## 1. 投稿
- クライアントは `POST /api/pictures/:id/comments` を呼び出し
- バリデーション（内容必須・長さ制限・レート制限）
- DB登録（Commentsテーブル）
- OperationLogsに記録

## 2. 編集
- クライアントは `PATCH /api/comments/:id` を呼び出し
- 権限・内容チェック
- DB更新

## 3. 削除
- クライアントは `DELETE /api/comments/:id` を呼び出し
- 権限チェック
- 論理削除（is_deleted=1）

## 業務ルール
- 自分のコメントのみ編集・削除可
- 論理削除で履歴保持
- レート制限で荒らし防止
